<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>시스템 리소스 모니터</title>
    <link rel="stylesheet" href="css/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
  </head>
  <body>
    <div class="container">
      <!-- 헤더 -->
      <header class="header">
        <div class="header-content">
          <h1>🖥️ 시스템 리소스 모니터</h1>
          <div class="header-info">
            <span id="hostname">Loading...</span>
            <span id="datetime"></span>
          </div>
        </div>
        <div class="header-actions">
          <div class="monitoring-status">
            <span class="status-dot" id="statusDot"></span>
            <span id="monitoringStatus">대기 중</span>
            <span id="elapsedTime">00:00</span>
          </div>
          <button
            id="btnReport"
            class="btn btn-primary"
            onclick="generateReport()"
          >
            📄 PDF 보고서 생성
          </button>
        </div>
      </header>

      <!-- 메인 메트릭 카드 -->
      <section class="metrics-grid">
        <!-- CPU -->
        <div class="metric-card">
          <div class="metric-header">
            <span class="metric-icon">⚡</span>
            <h3>CPU</h3>
          </div>
          <div class="metric-value">
            <span id="cpuValue">0</span>
            <span class="unit">%</span>
          </div>
          <div class="metric-details">
            <div class="detail-item">
              <span>주파수</span>
              <span id="cpuFreq">0 MHz</span>
            </div>
            <div class="detail-item">
              <span>코어</span>
              <span id="cpuCores">0</span>
            </div>
            <div class="detail-item">
              <span>온도</span>
              <span id="cpuTemp">N/A</span>
            </div>
          </div>
          <div class="progress-bar">
            <div class="progress-fill cpu-progress" id="cpuProgress"></div>
          </div>
        </div>

        <!-- 메모리 -->
        <div class="metric-card">
          <div class="metric-header">
            <span class="metric-icon">🧠</span>
            <h3>메모리</h3>
          </div>
          <div class="metric-value">
            <span id="memValue">0</span>
            <span class="unit">%</span>
          </div>
          <div class="metric-details">
            <div class="detail-item">
              <span>사용</span>
              <span id="memUsed">0 GB</span>
            </div>
            <div class="detail-item">
              <span>전체</span>
              <span id="memTotal">0 GB</span>
            </div>
            <div class="detail-item">
              <span>가용</span>
              <span id="memAvailable">0 GB</span>
            </div>
          </div>
          <div class="progress-bar">
            <div class="progress-fill memory-progress" id="memProgress"></div>
          </div>
        </div>

        <!-- GPU -->
        <div class="metric-card">
          <div class="metric-header">
            <span class="metric-icon">🎮</span>
            <h3>GPU</h3>
          </div>
          <div class="metric-value">
            <span id="gpuValue">N/A</span>
            <span class="unit" id="gpuUnit"></span>
          </div>
          <div class="metric-details">
            <div class="detail-item">
              <span>모델</span>
              <span id="gpuName">N/A</span>
            </div>
            <div class="detail-item">
              <span>메모리</span>
              <span id="gpuMemory">N/A</span>
            </div>
            <div class="detail-item">
              <span>온도</span>
              <span id="gpuTemp">N/A</span>
            </div>
          </div>
          <div class="progress-bar">
            <div class="progress-fill gpu-progress" id="gpuProgress"></div>
          </div>
        </div>

        <!-- 네트워크 -->
        <div class="metric-card">
          <div class="metric-header">
            <span class="metric-icon">🌐</span>
            <h3>네트워크</h3>
          </div>
          <div class="metric-value network-value">
            <div class="network-speed">
              <span class="arrow up">↑</span>
              <span id="netSent">0.00</span>
              <span class="speed-unit">MB/s</span>
            </div>
            <div class="network-speed">
              <span class="arrow down">↓</span>
              <span id="netRecv">0.00</span>
              <span class="speed-unit">MB/s</span>
            </div>
          </div>
          <div class="metric-details">
            <div class="detail-item">
              <span>총 송신</span>
              <span id="netTotalSent">0 MB</span>
            </div>
            <div class="detail-item">
              <span>총 수신</span>
              <span id="netTotalRecv">0 MB</span>
            </div>
          </div>
        </div>
      </section>

      <!-- 차트 섹션 -->
      <section class="charts-grid">
        <div class="chart-card">
          <h3>CPU 사용량</h3>
          <canvas id="cpuChart"></canvas>
        </div>
        <div class="chart-card">
          <h3>메모리 사용량</h3>
          <canvas id="memoryChart"></canvas>
        </div>
        <div class="chart-card">
          <h3>네트워크 트래픽</h3>
          <canvas id="networkChart"></canvas>
        </div>
        <div class="chart-card">
          <h3>디스크 I/O</h3>
          <canvas id="diskChart"></canvas>
        </div>
      </section>

      <!-- 디스크 및 프로세스 -->
      <section class="bottom-section">
        <!-- 디스크 파티션 -->
        <div class="disk-card">
          <h3>💾 디스크 사용량</h3>
          <div id="diskPartitions" class="disk-list"></div>
        </div>

        <!-- 상위 프로세스 -->
        <div class="process-card">
          <h3>📊 상위 프로세스 (CPU)</h3>
          <table class="process-table">
            <thead>
              <tr>
                <th>PID</th>
                <th>이름</th>
                <th>CPU %</th>
                <th>메모리 %</th>
              </tr>
            </thead>
            <tbody id="processTable"></tbody>
          </table>
        </div>
      </section>

      <!-- 시스템 정보 -->
      <section class="system-info-section">
        <h3>ℹ️ 시스템 정보</h3>
        <div class="system-info-grid" id="systemInfo"></div>
      </section>
    </div>

    <script src="js/dashboard.js"></script>
  </body>
</html>
